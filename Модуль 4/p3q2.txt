//Вывести названия всех регионов и количество покупателей, которые работают в соответствующем регионе
//Упорядочить данные по убыванию количества покупателей.

ВЫБРАТЬ
	Регионы.Наименование КАК Наименование, ISNULL(CCount, 0) AS КоличествоПокупателей
FROM
	Справочник.Регионы КАК Регионы 
		ЛЕВОЕ СОЕДИНЕНИЕ (SELECT Покупатели.Регион, COUNT(Покупатели.Наименование) AS CCount FROM Справочник.Покупатели КАК Покупатели GROUP BY Покупатели.Регион)AS Покупатели
		ПО Покупатели.Регион = Регионы.Ссылка
WHERE
	Регионы.Наименование IS NOT NULL
ORDER BY КоличествоПокупателей DESC	
